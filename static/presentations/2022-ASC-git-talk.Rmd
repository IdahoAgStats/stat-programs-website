---
title: "Using git"
subtitle: "âš” <br/>w ales of Peril, Pain and Protection"
author: "Julia Piaskowski"
date: "2022/11/08"
output:
  xaringan::moon_reader:
    lib_dir: libs
    mathjax: null
    css: ["robot.css", "fc.css"]
    nature:
      highlightStyle: github
      countIncrementalSlides: false
---


```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(echo = FALSE, message=FALSE, warning=FALSE)
knitr::opts_chunk$set(tidy.opts = list(width.cutoff = 60), tidy = TRUE)
```
---
class: center, middle, inverse

# (link)

---
# What Do I use git & GitHub for? 

.pull-left[ 
### 1. Share and access data
### 2. Collaborate
### 3. Build things ]

.pull-right[
![](git_talk/octocat_original.png)
[GitHub Octocat](https://octodex.github.com/). ]

---
class: center
# Share & Access Data/Software/Demos

![](git_talk/tidy_tuesday.png)

.right[[Tidy Tuesday datasets](https://github.com/rfordatascience/tidytuesday)]

---
class: center
# Share & Access Data/Software/Demos

![](git_talk/hugging_face.png)

.right[[Hugging Face Deep Learning Tools](https://github.com/huggingface)]

---
class: center
# Fork (copy) Project

!["github fork example"](git_talk/fork_example.png)

.right[[Website fork example](https://github.com/jpiaskowski/sta210-s22-template)]

---
# Collaborate: File Issues

- find out if someone else has experience a problem similar to yours  
- notify developers of a software bug  
- request a new feature

!["github examples issues"](git_talk/r-lib_issues.png)

[R GitHub Actions example](https://github.com/r-lib/actions/issues)

---
# Collaboration with Others

> Collaboration is the most compelling reason to manage a project with Git and GitHub. My definition of collaboration includes hands-on participation by multiple people, including your past and future self, as well as an asymmetric model, in which some people are active makers and others only read or review.

.right[[J. Bryan, *Peer J* (2017)](https://peerj.com/preprints/3159/)]

---
# git vs. GitHub

![](git_talk/git_github_schematic.jpg)

---
# Version Control

Version control captures changes across files, describing the difference between each and maintaining a linear history that can be rewound if needed. 

![](git_talk/flower_growing.jpg)
---
# Why Might You Need This? 
 
To clarify your data curation and analysis process for *research reproducibility*

* files change over time
* results may be shared
* many people are contributing to a project

> ...reproducibility is obtaining consistent results using the same input data; computational steps, methods, and code; and conditions of analysis. 

            - Reproducibility and Replicability in Science (2018)
               National Academies of Sciences

.right[.ref[*[Reference](https://www.nationalacademies.org/our-work/reproducibility-and-replicability-in-science)*]

---
# Why Might You Need This? 

You may be already implementing ad hoc version control. 

!["ad hoc version control example"](git_talk/file_overload.png)
---
# What It Could Look Like

!["schematic comparing version control"](git_talk/version_control_contrast.png)

---
# Version Control Advantages

* Sharing for asynchronous work - no more "data_final_KC_EP_JLP_BP.csv" or wondering if you have the most recent version of files  
* Abundantly clear what is the central or main version of files   
* Very advanced version of "track changes"  
* commits create safety points in case of disaster - you can recover previous version
* branching creates space for experimentation - if all ends in failure, delete the experimental branch, return to the main branch and carry on like nothing happened

---
# Generate a Web Presence

!["agstat.io screenshot"](git_talk/agstat_website.png)

.right[[agstats.io](agstats.io) | [GitHub](https://github.com/IdahoAgStats/stat-programs-website)]

---
# Post a Tutorial as an online book

!["example gitbook screenshot"](git_talk/example_gitbook.png)

.right[[Happy Git with R](https://happygitwithr.com) | [GitHub](https://github.com/jennybc/happy-git-with-r)]

---
# Run a course

!["example course"](git_talk/example_course.png)

.right[[Staticial Rethinking](https://bayesf22-notebook.classes.andrewheiss.com/rethinking/) | [GitHub](https://github.com/andrewheiss/bayesf22-notebook)]

---
# Documentation for Software

![](git_talk/pkgdown_example.png)

.right[[rusda package](https://docs.ropensci.org/rusda/) | [GitHub](https://github.com/ropensci/rusda/)]
---
# Automate Tasks

* automate action: `R cmd check` or `blogdown::build_site()`
* run a GitHub action to do CI/CD (continuous integration/continuous deployment)
* GitHUb actions can be challenging: 

!["examples of failed workflows"](git_talk/workflow_failures.png)

---
# What Git and GitHub are *not* suitable for

* Making publication data sets available - this is not an appropriate long-term repository (just ask the National Academy of Sciences!)
* Tracking changes in binary files (.doc, .docx, .xls, .xlsx, .pdf)

There are special tools to work with large files - make sure you use those if your files are large!  

---
# Things Can Go Wrong With Version Control

!["rejected github badges"](git_talk/rejected_badges.png)

[Snark GitHub Badges](https://github.com/Flet/rejected-github-profile-achievements)

---
# Lesson 1: Take Learning git Seriously

.center[![](git_talk/xkcd_git.png)]

.right[[xkcd cartoon](https://xkcd.com/1597/)]

---
# Learning git

Those 2-hour workshops are a good way to get started! But more training is needed. 

Decent options: 

  * [Happy Git with R](https://happygitwithr.com/)
  * [Software Carpentry git workshop](https://swcarpentry.github.io/git-novice/)
  * [Thee book of git](https://git-scm.com/book/en/v2)
  
???
You will find yourself in a sticky situation that only you can resolve. Do you want to implement a mystery solution you found on Stack Overflow and rick data loss??
---
# Lesson 2: Use a Git Client

![](git_talk/git_kraken.png)

---
# Some Graphical User Interfaces

* GitHub GUI
* Git Kraken
* SourceTree
* ....[tons more](https://git-scm.com/downloads/guis)

The goal is to become accustomed to using git regularly - use the tools that help you reach that. 

---
# Tip 3: Be Patient When an Error Occurs

.pull-left[When the inevitable error happens:
  * a merge error
  * can't pull or push!
  * a `git revert` gone horribly wrong]
  
.pull-right[

![](git_talk/waldocat.png)]

???

All can be untangled - if you act wisely. It's also very possible to make things irreversibly worse! 

---
# Lesson 4: Don't Expose Secrets

* Learn about and use the `.gitignore` file
* Consider private repositories when appropriate
* There are some guidelines regarding legal compliance (e.g. [HIPAA](https://github.com/truevault/hipaa-compliance-developers-guide))

---
# Git a Humbling Experience

![](git_talk/git_disaster.png)

---
# 'Guitar Hero' git disaster

*(I still think git is worth the trade-offs)*

![](git_talk/guitar_hero.png)

.right[.ref[*[original tweet](https://twitter.com/HenryHoffman/status/694184106440200192)]]


